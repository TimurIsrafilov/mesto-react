{"ast":null,"code":"class Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n  }\n  getProfileInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  editProfileInfo(name, about, avatar) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n        avatar\n      })\n    }).then(this._getResponseData);\n  }\n  addNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link\n      })\n    }).then(this._getResponseData);\n  }\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar\n      })\n    }).then(this._getResponseData);\n  }\n}\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-54\",\n  headers: {\n    authorization: \"0696f677-58b1-4ea2-bdfa-d2fcd17ccfa1\",\n    \"Content-Type\": \"application/json\"\n  }\n});","map":{"version":3,"names":["Api","constructor","baseUrl","headers","_baseUrl","_headers","_getResponseData","res","ok","Promise","reject","status","json","getProfileInfo","fetch","then","getInitialCards","editProfileInfo","name","about","avatar","method","body","JSON","stringify","addNewCard","link","deleteCard","id","addLike","deleteLike","updateAvatar","api","authorization"],"sources":["/Users/timoon/Documents/Code/dev/mesto-react/mesto-react/src/utils/api.js"],"sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n    return res.json();\n}\n\n  getProfileInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  editProfileInfo(name, about, avatar) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n        avatar,\n      }),\n    })\n    .then(this._getResponseData)\n  }\n\n  addNewCard(name, link) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"PUT\",\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  updateAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    })\n    .then(this._getResponseData)\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-54\",\n  headers: {\n    authorization: \"0696f677-58b1-4ea2-bdfa-d2fcd17ccfa1\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}