{"ast":null,"code":"import _slicedToArray from\"/Users/timoon/Documents/Code/dev/mesto-react/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import Header from\"./Header\";import Main from\"./Main\";import Footer from\"./Footer\";import PopupWithForm from\"./PopupWithForm\";import ImagePopup from\"./ImagePopup\";import{useState}from\"react\";import api from\"../utils/api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditProfilePopupOpen=_useState2[0],setIsEditProfilePopupOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddPlacePopupOpen=_useState4[0],setIsAddPlacePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isEditAvatarPopupOpen=_useState6[0],setIsEditAvatarPopupOpen=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),userName=_useState8[0],setUserName=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),userDescription=_useState10[0],setUserDescription=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),userAvatar=_useState12[0],setUserAvatar=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),cards=_useState14[0],setCards=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),selectedCard=_useState16[0],setSelectedCard=_useState16[1];useEffect(function(){api.getProfileInfo(userName,userDescription,userAvatar).then(function(res){setUserName(res.name);setUserDescription(res.about);setUserAvatar(res.avatar);});},[]);useEffect(function(){api.getInitialCards(cards).then(function(res){setCards(res);});},[]);function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function closeAllPopups(){setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setIsEditProfilePopupOpen(false);setSelectedCard(false);}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Main,{onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,userName:userName,userDescription:userDescription,userAvatar:userAvatar,cards:cards,onCardClick:setSelectedCard}),isEditProfilePopupOpen&&/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",isOpen:\"popup_opened\",onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",type:\"text\",value:\"\",placeholder:\"\\u0418\\u043C\\u044F\",name:\"name\",required:true,className:\"popup__input popup__input_type_name\",minlength:\"2\",maxlength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"profession-input\",type:\"text\",value:\"\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",name:\"profession\",required:true,className:\"popup__input popup__input_type_profession\",minlength:\"2\",maxlength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error profession-input-error\"})]}),isAddPlacePopupOpen&&/*#__PURE__*/_jsxs(PopupWithForm,{name:\"card\",title:\"\\u041D\\u043E\\u0432\\u043E\\u0435 \\u043C\\u0435\\u0441\\u0442\\u043E\",isOpen:\"popup_opened\",onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{id:\"place-input\",type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\",name:\"place\",required:true,className:\"popup__input popup__input_type_place\",minlength:\"2\",maxlength:\"30\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error place-input-error\"}),/*#__PURE__*/_jsx(\"input\",{id:\"reference-input\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",name:\"reference\",required:true,className:\"popup__input popup__input_type_reference\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error reference-input-error\"})]}),isEditAvatarPopupOpen&&/*#__PURE__*/_jsxs(PopupWithForm,{name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:\"popup_opened\",onClose:closeAllPopups,children:[/*#__PURE__*/_jsx(\"input\",{id:\"avatar-input\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",name:\"avatar\",required:true,className:\"popup__input popup__input_type_reference\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error avatar-input-error\"})]}),/*#__PURE__*/_jsx(PopupWithForm,{name:\"confirmation\",title:\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup__submit-button\",\"aria-label\":\"\\u0441\\u043E\\u0433\\u043B\\u0430\\u0441\\u0435\\u043D\",children:\"\\u0414\\u0430\"})}),selectedCard&&/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:\"popup_opened\",onClose:closeAllPopups}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["React","useEffect","Header","Main","Footer","PopupWithForm","ImagePopup","useState","api","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","userName","setUserName","userDescription","setUserDescription","userAvatar","setUserAvatar","cards","setCards","selectedCard","setSelectedCard","getProfileInfo","then","res","name","about","avatar","getInitialCards","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","closeAllPopups"],"sources":["/Users/timoon/Documents/Code/dev/mesto-react/mesto-react/src/components/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport { useState } from \"react\";\nimport api from \"../utils/api\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n\n  const [userName, setUserName] = useState([]);\n  const [userDescription, setUserDescription] = useState([]);\n  const [userAvatar, setUserAvatar] = useState([]);\n\n  const [cards, setCards] = useState([]);\n\n  const [selectedCard, setSelectedCard] = useState(false);\n\n  useEffect(() => {\n    api.getProfileInfo(userName, userDescription, userAvatar).then((res) => {\n      setUserName(res.name);\n      setUserDescription(res.about);\n      setUserAvatar(res.avatar);\n    });\n  }, []);\n\n  useEffect(() => {\n    api.getInitialCards(cards).then((res) => {\n      setCards(res);\n    });\n  }, []);\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"page\">\n        <Header />\n\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          userName={userName}\n          userDescription={userDescription}\n          userAvatar={userAvatar}\n          cards={cards}\n          onCardClick={setSelectedCard}\n        />\n\n        {isEditProfilePopupOpen && (\n          <PopupWithForm\n            name=\"profile\"\n            title=\"Редактировать профиль\"\n            isOpen=\"popup_opened\"\n            onClose={closeAllPopups}\n          >\n            <input\n              id=\"name-input\"\n              type=\"text\"\n              value=\"\"\n              placeholder=\"Имя\"\n              name=\"name\"\n              required\n              className=\"popup__input popup__input_type_name\"\n              minlength=\"2\"\n              maxlength=\"40\"\n            />\n            <span className=\"popup__input-error name-input-error\"></span>\n            <input\n              id=\"profession-input\"\n              type=\"text\"\n              value=\"\"\n              placeholder=\"Профессия\"\n              name=\"profession\"\n              required\n              className=\"popup__input popup__input_type_profession\"\n              minlength=\"2\"\n              maxlength=\"200\"\n            />\n            <span className=\"popup__input-error profession-input-error\"></span>\n          </PopupWithForm>\n        )}\n\n        {isAddPlacePopupOpen && (\n          <PopupWithForm\n            name=\"card\"\n            title=\"Новое место\"\n            isOpen=\"popup_opened\"\n            onClose={closeAllPopups}\n          >\n            <input\n              id=\"place-input\"\n              type=\"text\"\n              placeholder=\"Название\"\n              name=\"place\"\n              required\n              className=\"popup__input popup__input_type_place\"\n              minlength=\"2\"\n              maxlength=\"30\"\n            />\n            <span className=\"popup__input-error place-input-error\"></span>\n            <input\n              id=\"reference-input\"\n              type=\"url\"\n              placeholder=\"Ссылка на картинку\"\n              name=\"reference\"\n              required\n              className=\"popup__input popup__input_type_reference\"\n            />\n            <span className=\"popup__input-error reference-input-error\"></span>\n          </PopupWithForm>\n        )}\n\n        {isEditAvatarPopupOpen && (\n          <PopupWithForm\n            name=\"avatar\"\n            title=\"Обновить аватар\"\n            isOpen=\"popup_opened\"\n            onClose={closeAllPopups}\n          >\n            <input\n              id=\"avatar-input\"\n              type=\"url\"\n              placeholder=\"Ссылка на новый аватар\"\n              name=\"avatar\"\n              required\n              className=\"popup__input popup__input_type_reference\"\n            />\n            <span className=\"popup__input-error avatar-input-error\"></span>\n          </PopupWithForm>\n        )}\n\n        <PopupWithForm name=\"confirmation\" title=\"Вы уверены?\">\n          <button\n            type=\"submit\"\n            className=\"popup__submit-button\"\n            aria-label=\"согласен\"\n          >\n            Да\n          </button>\n        </PopupWithForm>\n\n        {selectedCard && (\n          <ImagePopup\n            card={selectedCard}\n            isOpen=\"popup_opened\"\n            onClose={closeAllPopups}\n          />\n        )}\n\n        <Footer />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}